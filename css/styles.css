/* =========================
   KPI UI — Design Tokens
   ========================= */
:root{
  /* Font */
  --ff-base: "Space Grotesk", system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";

  /* Text colors */
  --text-primary: #191919;
  --text-secondary: #5E5E5E;
  --text-tertiary: #999999;
  --text-quaternary: #ADADAD;
  --text-white: #FFFFFF;

  /* Backgrounds */
  --bg-100: #F1F1F1;
  --bg-white: #FFFFFF;

  /* Accent */
  --accent-electric: #0285FF;
  --accent-primary: #0051F9;
  --accent-primary-hover: #223DC3;
  --accent-secondary: #E6F0FF;
  --accent-secondary-hover: #D2E4FF;

  /* System */
  --sys-success: #36B37E;
  --sys-critical: #FF0404;
  --link: #0057FF;

  /* Borders */
  --border-weak: #E0E0E0; /* тонкая нейтральная линия */
  --border-primary: #191919;

  /* Typography (desktop) */
  --h0-fs: 62px; --h0-lh: 72px; --h0-fw: 500;
  --h1-fs: 56px; --h1-lh: 64px; --h1-fw: 500;
  --h2-fs: 40px; --h2-lh: 54px; --h2-fw: 500;
  --h3-fs: 28px; --h3-lh: 36px; --h3-fw: 500;
  --h4-fs: 24px; --h4-lh: 32px; --h4-fw: 500;
  --h5-fs: 20px; --h5-lh: 28px; --h5-fw: 500;

  --text-primary-fs: 18px; --text-primary-lh: 32px; --text-primary-fw: 400;
  --text-secondary-fs: 16px; --text-secondary-lh: 24px; --text-secondary-fw: 400;
  --text-tertiary-fs: 14px; --text-tertiary-lh: 20px; --text-tertiary-fw: 400;
  --text-small-fs: 12px; --text-small-lh: 16px; --text-small-fw: 400;
}

/* Mobile overrides */
@media (max-width: 576px){
  :root{
    --h0-fs: 40px; --h0-lh: 48px;
    --h1-fs: 32px; --h1-lh: 40px;
    --h2-fs: 28px; --h2-lh: 36px;
    --h3-fs: 24px; --h3-lh: 32px;
    --h4-fs: 20px; --h4-lh: 28px;
    --h5-fs: 18px; --h5-lh: 24px;
  }
}

/* Base */
html, body{
  font-family: var(--ff-base);
  color: var(--text-primary);
  background: var(--bg-white);
}

/* Headings */
h1{ font-size: var(--h1-fs); line-height: var(--h1-lh); font-weight: var(--h1-fw); margin-bottom: 16px; }
h2{ font-size: var(--h2-fs); line-height: var(--h2-lh); font-weight: var(--h2-fw); margin-bottom: 16px; }
h3{ font-size: var(--h3-fs); line-height: var(--h3-lh); font-weight: var(--h3-fw); margin-bottom: 12px; }
h4{ font-size: var(--h4-fs); line-height: var(--h4-lh); font-weight: var(--h4-fw); margin-bottom: 8px; }
h5{ font-size: var(--h5-fs); line-height: var(--h5-lh); font-weight: var(--h5-fw); margin-bottom: 8px; }

/* Text utility overrides to соответствовать гайду */
.text-secondary{ color: var(--text-secondary) !important; }
.text-tertiary{ color: var(--text-tertiary) !important; }

/* Small caption */
.kpi-caption{
  font-size: var(--text-small-fs);
  line-height: var(--text-small-lh);
  font-weight: var(--text-small-fw);
  color: var(--text-tertiary);
  margin-top: 2px;
}

/* Links */
a{ color: var(--link); text-decoration: none; }
a:hover{ text-decoration: underline; }

/* Buttons — override Bootstrap palette */
.btn-primary{
  --bs-btn-bg: var(--accent-primary);
  --bs-btn-border-color: var(--accent-primary);
  --bs-btn-hover-bg: var(--accent-primary-hover);
  --bs-btn-hover-border-color: var(--accent-primary-hover);
  --bs-btn-active-bg: var(--accent-primary-hover);
  --bs-btn-active-border-color: var(--accent-primary-hover);
  --bs-btn-disabled-bg: var(--accent-secondary);
  --bs-btn-disabled-border-color: var(--accent-secondary);
  --bs-btn-color: #fff;
  --bs-btn-hover-color: #fff;
}

.btn-outline-primary{
  --bs-btn-color: var(--accent-primary);
  --bs-btn-border-color: var(--accent-primary);
  --bs-btn-hover-color: var(--accent-primary);
  --bs-btn-hover-bg: var(--accent-secondary);
  --bs-btn-hover-border-color: var(--accent-primary);
}

.btn-secondary{
  --bs-btn-bg: var(--accent-secondary);
  --bs-btn-border-color: var(--accent-secondary);
  --bs-btn-hover-bg: var(--accent-secondary-hover);
  --bs-btn-hover-border-color: var(--accent-secondary-hover);
  --bs-btn-color: var(--accent-primary);
  --bs-btn-hover-color: var(--accent-primary);
}

/* Tables */
.table{
  border-color: var(--border-weak);
}
.table > :not(caption) > * > *{
  border-color: var(--border-weak);
}
.table thead th{
  background: var(--bg-100);
  color: var(--text-primary);
  border-bottom-color: var(--border-weak);
}
.table tbody tr:nth-child(even){
  background: #FAFAFA;
}

/* Progress */
.progress{
  height: 12px;
  background: var(--bg-100);
}
.progress-bar{ transition: width .3s ease; }
.progress-bar.bar-critical{ background: var(--sys-critical); }
.progress-bar.bar-30{ background: #FF7A7A; }
.progress-bar.bar-50{ background: var(--sys-success); }
.progress-bar.bar-70{ background: var(--accent-primary); }

/* Character row under progress */
.kpi-char-row{ margin-top: 6px; }
.kpi-char-track img{ vertical-align: middle; }

/* Minor helpers */
.section{ margin-bottom: 24px; }
